<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SRP</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="loading-container">
    <span class="loading-anim"></span>
    <p id="loading-text">Loading...</p>
  </div>
  <div class="container" id="0">
    <h1>Welcome to the experiment!</h1>
    <h2>To begin, sign in with the Google account you registered with. </h2>

    <button id="signIn">Sign in!</button><br>
    <a href="javascript:void(0);" class="signUp">Don't have an account yet?</a>
  </div>
  <div class="container" id="1">

    <h1 class="txt" id="header">Login successful!</h1>

    <h2 class="txt">Before you can start the experiment, you must sign (and upload) this
      <a target="_blank"
        href="https://cdn.glitch.com/a7fe7389-b199-4059-9b1e-4e0edb35a775%2FConsent%20Form1.pdf?v=1605467307433">consent
        form</a>.
    </h2>
    <div id="drop_zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);"
      ondragleave="dragLeaveHandler(event)">

      <div id="progress_bar"></div>
      <input type="file" id="submit-file" accept=".pdf,image/*" onchange="processFileInput(this)"/><br>
      <h3>OR</h3>

      <p>Drag and drop...</p>

    </div>


    <div id="error" style="text-align: left;color: red;"></div>
  </div>
  <div class="container" id="2">
    <h1>You're ready to begin!</h1>
    <h2>Note: If you close the tab during the experiment your progress will (most likely) be lost.</h2>
    <button id="start">I'm ready</button><br>
    <a href="javascript:void(0);" class="signUp">Switch user</a>

  </div>
  <div class="container" id="3">
    <div id="holder">
      <div id="hider">
        <div id="check"></div>
      </div>
    </div>
    <h1>You're all done!</h1>
    <button id="signOut">Sign Out</button><br>
  </div>
  <script src="preq.js"></script>

  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-firestore.js"></script>


  <script src="script.js"></script>

  <script>
    let firebaseConfig = {
      apiKey: "AIzaSyCz8S0hkXh7i_5KcdyLUxBVq5YQhoPxiaw",
      authDomain: "srp1-ab420.firebaseapp.com",
      databaseURL: "https://srp1-ab420.firebaseio.com",
      projectId: "srp1-ab420",
      storageBucket: "srp1-ab420.appspot.com",
      messagingSenderId: "621543914901",
      appId: "1:621543914901:web:686b83863d31285605ca9c",
      measurementId: "G-6H69F7QZ2G"
    };
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    if (/Mobi|Android/i.test(navigator.userAgent)) {
      $('body').html(
        `
      <video width="100%" height="100%" preload="auto" playsinline loop>
  <source src="give.mp4" type="video/mp4">
Your browser does not support rickrolling.
</video>

`
      )
      $('body').append(`<div id="rolled"><div>Please use a computer to do this experiment, thanks! :) <br>
        <button onclick="huh()">Override</button></div>
</div>`);

    } else {
      run();
    }

  </script>

</body>

</html>